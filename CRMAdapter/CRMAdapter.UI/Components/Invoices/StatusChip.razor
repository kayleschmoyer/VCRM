@* StatusChip.razor: Color-calibrated invoice status badge harmonized with the design language. *@
<MudChip Color="@ResolveColor(Status)"
         Variant="@Variant"
         Size="@Size"
         Class="@($"crm-invoice-status-chip {Class}".Trim())">
    @if (ChildContent is not null)
    {
        @ChildContent
    }
    else
    {
        @Status
    }
</MudChip>

@code {
    [Parameter]
    public string Status { get; set; } = string.Empty;

    [Parameter]
    public Variant Variant { get; set; } = Variant.Filled;

    [Parameter]
    public Size Size { get; set; } = Size.Small;

    [Parameter]
    public string Class { get; set; } = string.Empty;

    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    private static Color ResolveColor(string status)
    {
        return status switch
        {
            "Paid" => Color.Success,
            "Overdue" => Color.Error,
            "Unpaid" => Color.Warning,
            _ => Color.Info
        };
    }
}
